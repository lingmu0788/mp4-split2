# ðŸŽ¬ MP4 Split 2 - ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆ

![Version](https://img.shields.io/badge/version-1.0-blue)
![Python](https://img.shields.io/badge/python-3.7%2B-green)

## ðŸ“Œ æ¦‚è¦

**MP4 Split 2** ã¯ã€é•·ã„è¬›ç¾©å‹•ç”»ã‚’ç„¡éŸ³éƒ¨åˆ†ã§è‡ªå‹•åˆ†å‰²ã™ã‚‹**ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ç‰ˆ**ã§ã™ã€‚

ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãªã—ã€`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šã‚’ç®¡ç†ã—ã¾ã™ã€‚

### âœ¨ ç‰¹å¾´

- ðŸŽ¯ **ã‚·ãƒ³ãƒ—ãƒ«** - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãªã—ã€ã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ç‰ˆ
- âš™ï¸ **è¨­å®šå¯èƒ½** - `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†
- ðŸŽ¨ **è‡ªå‹•ç„¡éŸ³æ¤œå‡º** - æ©Ÿæ¢°å­¦ç¿’ã§ç„¡éŸ³éƒ¨åˆ†ã‚’è‡ªå‹•æ¤œå‡º
- ðŸ“Š **è©³ç´°ãƒ­ã‚°** - ãƒ•ã‚¡ã‚¤ãƒ«ã¨æ¨™æº–å‡ºåŠ›ã«åŒæ™‚å‡ºåŠ›
- ðŸš€ **é«˜é€Ÿå‡¦ç†** - ffmpeg ã‚’ä½¿ç”¨ã—ãŸåŠ¹çŽ‡çš„ãªå‡¦ç†

---

## ðŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### **1. .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ**

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF
```

### **2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ**

```bash
./run.sh
```

### **3. å®Œäº†ï¼**

åˆ†å‰²ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒ `output/` ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

---

## ðŸ“‹ è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

### **INPUT_FILEï¼ˆå¿…é ˆï¼‰**
```
å…¥åŠ›ã™ã‚‹ MP4 ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
ä¾‹: data/lecture.mp4
```

### **OUTPUT_DIRï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ./outputï¼‰**
```
åˆ†å‰²ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡ºåŠ›å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
ä¾‹: ./output
```

### **SILENCE_THRESHOLDï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.01ï¼‰**
```
ç„¡éŸ³åˆ¤å®šã®é–¾å€¤ï¼ˆ0ï½ž1ï¼‰
- 0.005: éžå¸¸ã«æ•æ„Ÿï¼ˆãƒŽã‚¤ã‚ºã‚‚æ¤œå‡ºï¼‰
- 0.01:  æŽ¨å¥¨ï¼ˆæ¨™æº–çš„ãªç„¡éŸ³æ¤œå‡ºï¼‰
- 0.02:  éˆæ„Ÿï¼ˆæ˜Žç¢ºãªç„¡éŸ³ã®ã¿ï¼‰
```

### **MIN_SILENCE_DURATIONï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 15ï¼‰**
```
æœ€å°ç„¡éŸ³æ™‚é–“ï¼ˆç§’ï¼‰
- 10ç§’: è©±ãŒé »ç¹ã«æ­¢ã¾ã‚‹å ´åˆ
- 15ç§’: æŽ¨å¥¨ï¼ˆé€šå¸¸ã®è¬›ç¾©ï¼‰
- 20ç§’: ã‚ˆã‚Šé•·ã„æ²ˆé»™ã‚’å¯¾è±¡
```

---

## ðŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
mp4-split2/
â”œâ”€â”€ main.py              # ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
â”œâ”€â”€ run.sh               # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ .env                 # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä½œæˆãŒå¿…è¦ï¼‰
â”œâ”€â”€ README.md            # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ output/              # åˆ†å‰²ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›å…ˆï¼ˆè‡ªå‹•ä½œæˆï¼‰
â”œâ”€â”€ data/                # ã‚µãƒ³ãƒ—ãƒ«å‹•ç”»ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â””â”€â”€ venv/                # ä»®æƒ³ç’°å¢ƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

---

## ðŸ’» ä½¿ç”¨æ–¹æ³•

### **åŸºæœ¬çš„ãªä½¿ã„æ–¹**

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /Users/suzukishinji/projects/mp4-split2

# 2. .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF

# 3. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
./run.sh

# 4. å®Œäº†ï¼output/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèª
ls -lh output/
```

### **ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã§å®Ÿè¡Œ**

```bash
# æ•æ„Ÿãªè¨­å®šï¼ˆçŸ­ã„ç„¡éŸ³ã‚‚æ¤œå‡ºï¼‰
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.005
MIN_SILENCE_DURATION=10
EOF

./run.sh
```

---

## ðŸ“Š å‡ºåŠ›ä¾‹

```
============================================================
MP4 Split Application - ç„¡éŸ³æ¤œå‡ºå‹•ç”»åˆ†å‰²
============================================================
å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«: data/lecture.mp4
å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: ./output
ç„¡éŸ³åˆ¤å®šé–¾å€¤: 0.01
æœ€å°ç„¡éŸ³æ™‚é–“: 15 ç§’
============================================================
å‹•ç”»æ™‚é–“: 01:02:30

éŸ³å£°ã‚’æŠ½å‡ºä¸­...
  ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ: 16000 Hz
  éŸ³å£°é•·: 3750.50 ç§’

ç„¡éŸ³éƒ¨åˆ†ã‚’æ¤œå‡ºä¸­...
  ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ: 16000 Hz
  æ¤œå‡ºã•ã‚ŒãŸç„¡éŸ³åŒºé–“: 7 å€‹
    ã‚«ãƒƒãƒˆç‚¹ 1: 00:12:45
    ã‚«ãƒƒãƒˆç‚¹ 2: 00:25:30
    ã‚«ãƒƒãƒˆç‚¹ 3: 00:38:15
    ã‚«ãƒƒãƒˆç‚¹ 4: 00:45:20
    ã‚«ãƒƒãƒˆç‚¹ 5: 00:55:10
    ã‚«ãƒƒãƒˆç‚¹ 6: 01:02:00

å‹•ç”»ã‚’åˆ†å‰²ä¸­... (8 å€‹ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ)

[1/8] ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†å‰²ä¸­...
  å…¥åŠ›: 00:00:00 â†’ 00:12:45
  é•·ã•: 00:12:45
  å‡ºåŠ›: ./output/lecture_001.mp4
  âœ“ å®Œäº†

[2/8] ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†å‰²ä¸­...
  å…¥åŠ›: 00:12:45 â†’ 00:25:30
  é•·ã•: 00:12:45
  å‡ºåŠ›: ./output/lecture_002.mp4
  âœ“ å®Œäº†

...

============================================================
å‡¦ç†å®Œäº†: 8 å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ
============================================================
```

---

## ðŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: "Error: INPUT_FILE ãŒ .env ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“"

A: `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ã€`INPUT_FILE` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
cat .env
```

### Q: ffmpeg ãŒè¦‹ã¤ã‹ã‚‰ãªã„

A: ffmpeg ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š

```bash
brew install ffmpeg
```

### Q: åˆ†å‰²ãƒã‚¤ãƒ³ãƒˆãŒæ¤œå‡ºã•ã‚Œãªã„

A: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã—ã¦ãã ã•ã„ï¼š

```bash
# æ•æ„Ÿè¨­å®š
SILENCE_THRESHOLD=0.005
MIN_SILENCE_DURATION=10
```

### Q: å‡¦ç†ãŒéžå¸¸ã«é…ã„

A: ä»¥ä¸‹ã‚’ç¢ºèªï¼š
- ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãŒååˆ†ã‹
- CPUä½¿ç”¨çŽ‡
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º

---

## ðŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

### **å‡¦ç†æ™‚é–“ã®ç›®å®‰**

| å‹•ç”»é•· | å‡¦ç†æ™‚é–“ |
|-------|---------|
| 1åˆ† | 10ï½ž15ç§’ |
| 10åˆ† | 100ï½ž150ç§’ |
| 60åˆ† | 600ï½ž900ç§’ |

---

## ðŸ“ ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«

å‡¦ç†ãƒ­ã‚°ã¯è‡ªå‹•çš„ã«ä»¥ä¸‹ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š

```
output/split_YYYYMMDD_HHMMSS.log
```

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---

## ðŸ”§ ä¾å­˜é–¢ä¿‚

```
Python 3.7+
â”œâ”€â”€ librosa         # éŸ³å£°å‡¦ç†
â”œâ”€â”€ numpy           # æ•°å€¤è¨ˆç®—
â”œâ”€â”€ python-dotenv   # .env ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
â””â”€â”€ ffmpeg          # å‹•ç”»å‡¦ç†ï¼ˆåˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¿…è¦ï¼‰
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š

```bash
pip install -r requirements.txt
brew install ffmpeg
```

---

## ðŸŽ¯ ä½¿ç”¨ä¾‹

### **ä¾‹1ï¼šåŸºæœ¬çš„ãªåˆ†å‰²**

```bash
# .env ã‚’ä½œæˆ
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF

# å®Ÿè¡Œ
./run.sh

# çµæžœç¢ºèª
ls -lh output/
```

### **ä¾‹2ï¼šã‚«ã‚¹ã‚¿ãƒ å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=/tmp/split_output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF

./run.sh
```

### **ä¾‹3ï¼šæ•æ„Ÿãªæ¤œå‡º**

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.005
MIN_SILENCE_DURATION=10
EOF

./run.sh
```

---

## ðŸŽ“ æŠ€è¡“æƒ…å ±

### **ä½¿ç”¨æŠ€è¡“**

- **librosa** - éŸ³å£°å‡¦ç†ï¼ˆç„¡éŸ³æ¤œå‡ºï¼‰
- **ffmpeg** - å‹•ç”»å‡¦ç†ï¼ˆåˆ†å‰²ï¼‰
- **numpy** - æ•°å€¤è¨ˆç®—
- **python-dotenv** - ç’°å¢ƒå¤‰æ•°ç®¡ç†

### **å‡¦ç†ãƒ•ãƒ­ãƒ¼**

```
1. .env ã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã¿
   â†“
2. ffmpeg ã§å‹•ç”»ã‹ã‚‰éŸ³å£°ã‚’æŠ½å‡º
   â†“
3. librosa ã§ç„¡éŸ³éƒ¨åˆ†ã‚’æ¤œå‡º
   â†“
4. ã‚«ãƒƒãƒˆç‚¹ã‚’æ±ºå®š
   â†“
5. ffmpeg ã§å‹•ç”»ã‚’åˆ†å‰²
   â†“
6. ãƒ­ã‚°ã¨çµæžœã‚’å‡ºåŠ›
```

---

## ðŸ“ž ã‚µãƒãƒ¼ãƒˆ

### **ã‚ˆãã‚ã‚‹è³ªå•**

**Q: è¤‡æ•°ã®å‹•ç”»ã‚’å‡¦ç†ã—ãŸã„**

A: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¿®æ­£ã—ã¦ã€è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ«ãƒ¼ãƒ—ã§å‡¦ç†ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã§ãã¾ã™ã€‚

**Q: ä»–ã®å‹•ç”»å½¢å¼ã«å¯¾å¿œã—ã¦ã„ã‚‹ï¼Ÿ**

A: MP4 æŽ¨å¥¨ã§ã™ãŒã€ffmpeg ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹å½¢å¼ãªã‚‰å‡¦ç†å¯èƒ½ã§ã™ã€‚

**Q: å‡ºåŠ›å½¢å¼ã‚’å¤‰æ›´ã—ãŸã„**

A: `main.py` ã® `split_video()` ãƒ¡ã‚½ãƒƒãƒ‰ã§ ffmpeg ã‚³ãƒžãƒ³ãƒ‰ã‚’ä¿®æ­£ã§ãã¾ã™ã€‚

---

## ðŸŽ‰ ã‚·ãƒ³ãƒ—ãƒ« & åŠ¹çŽ‡çš„

MP4 Split 2 ã¯ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãªã—ã§ã‚·ãƒ³ãƒ—ãƒ«ã«å‹•ç”»ã‚’åˆ†å‰²ã§ãã¾ã™ã€‚

**æœ¬ç•ªé‹ç”¨ã«æœ€é©ï¼** ðŸš€

---

**ä½œæˆæ—¥**: 2025-12-27  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… æœ¬ç•ªé‹ç”¨å¯èƒ½






