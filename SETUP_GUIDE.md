# ðŸš€ MP4 Split 2 - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## ðŸ“‹ æ¦‚è¦

MP4 Split 2 ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ç‰ˆã®å‹•ç”»åˆ†å‰²ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

**ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãªã—ã€`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šã—ã¾ã™ã€‚**

---

## ðŸŽ¯ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

### **ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•**

```bash
cd /Users/suzukishinji/projects/mp4-split2
```

### **ã‚¹ãƒ†ãƒƒãƒ—2ï¼š.env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ**

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF
```

### **ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå®Ÿè¡Œ**

```bash
./run.sh
```

å®Œäº†ã§ã™ï¼ ðŸŽ‰

---

## ðŸ’» è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### **å‰ææ¡ä»¶**

- Python 3.7ä»¥ä¸Š
- ffmpeg
- ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### **1. Python ã¨ ffmpeg ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª**

```bash
python3 --version
ffmpeg -version
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆï¼š

```bash
# ffmpeg ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆHomebrewä½¿ç”¨ï¼‰
brew install ffmpeg
```

### **2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**

```bash
cd /Users/suzukishinji/projects/mp4-split2
```

### **3. ä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**

```bash
# ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆ
python3 -m venv venv

# ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–
source venv/bin/activate

# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install librosa numpy python-dotenv
```

### **4. .env ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**

```bash
cat > .env << 'EOF'
# å¿…é ˆï¼šå…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
INPUT_FILE=data/lecture.mp4

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šå‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ./outputï¼‰
OUTPUT_DIR=./output

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šç„¡éŸ³åˆ¤å®šé–¾å€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.01ï¼‰
SILENCE_THRESHOLD=0.01

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šæœ€å°ç„¡éŸ³æ™‚é–“ãƒ»ç§’ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 15ï¼‰
MIN_SILENCE_DURATION=15
EOF
```

### **5. å®Ÿè¡Œ**

```bash
./run.sh
```

---

## ðŸ“ .env ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã‚¬ã‚¤ãƒ‰

### **INPUT_FILEï¼ˆå¿…é ˆï¼‰**

å…¥åŠ›ã™ã‚‹ MP4 ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ï¼š

```bash
# ç›¸å¯¾ãƒ‘ã‚¹
INPUT_FILE=data/lecture.mp4

# ã¾ãŸã¯çµ¶å¯¾ãƒ‘ã‚¹
INPUT_FILE=/Users/suzukishinji/Videos/lecture.mp4
```

### **OUTPUT_DIRï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ./outputï¼‰**

åˆ†å‰²ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡ºåŠ›å…ˆï¼š

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
OUTPUT_DIR=./output

# ã‚«ã‚¹ã‚¿ãƒ 
OUTPUT_DIR=/tmp/split_output
OUTPUT_DIR=$HOME/Videos/output
```

### **SILENCE_THRESHOLDï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.01ï¼‰**

ç„¡éŸ³åˆ¤å®šã®é–¾å€¤ï¼ˆ0ï½ž1ï¼‰ï¼š

| å€¤ | èª¬æ˜Ž | ç”¨é€” |
|----|------|------|
| 0.005 | éžå¸¸ã«æ•æ„Ÿ | éŸ³å£°ãŒå°ã•ã„ |
| **0.01** | **æŽ¨å¥¨** | **é€šå¸¸ã®è¬›ç¾©** |
| 0.02 | éˆæ„Ÿ | æ˜Žç¢ºãªç„¡éŸ³ã®ã¿ |

```bash
# æ•æ„Ÿãªè¨­å®š
SILENCE_THRESHOLD=0.005

# æ¨™æº–è¨­å®šï¼ˆæŽ¨å¥¨ï¼‰
SILENCE_THRESHOLD=0.01

# éˆæ„Ÿãªè¨­å®š
SILENCE_THRESHOLD=0.02
```

### **MIN_SILENCE_DURATIONï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 15ï¼‰**

æœ€å°ç„¡éŸ³æ™‚é–“ï¼ˆç§’ï¼‰ï¼š

| å€¤ | èª¬æ˜Ž | ç”¨é€” |
|----|------|------|
| 10 | çŸ­ã„ | è©±ãŒé »ç¹ã«æ­¢ã¾ã‚‹ |
| **15** | **æŽ¨å¥¨** | **é€šå¸¸ã®è¬›ç¾©** |
| 20 | é•·ã„ | ã‚ˆã‚Šé•·ã„æ²ˆé»™ã‚’å¯¾è±¡ |

```bash
# çŸ­ã„ç„¡éŸ³ã‚‚å¯¾è±¡
MIN_SILENCE_DURATION=10

# æ¨™æº–è¨­å®šï¼ˆæŽ¨å¥¨ï¼‰
MIN_SILENCE_DURATION=15

# é•·ã„ç„¡éŸ³ã®ã¿å¯¾è±¡
MIN_SILENCE_DURATION=20
```

---

## ðŸŽ¯ ä½¿ç”¨ä¾‹

### **ä¾‹1ï¼šåŸºæœ¬çš„ãªåˆ†å‰²**

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§å®Ÿè¡Œ
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF

./run.sh
```

### **ä¾‹2ï¼šæ•æ„Ÿãªæ¤œå‡ºï¼ˆçŸ­ã„ç„¡éŸ³ã‚‚æ¤œå‡ºï¼‰**

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.005
MIN_SILENCE_DURATION=10
EOF

./run.sh
```

### **ä¾‹3ï¼šéˆæ„Ÿãªæ¤œå‡ºï¼ˆæ˜Žç¢ºãªç„¡éŸ³ã®ã¿ï¼‰**

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.02
MIN_SILENCE_DURATION=20
EOF

./run.sh
```

### **ä¾‹4ï¼šã‚«ã‚¹ã‚¿ãƒ å‡ºåŠ›ãƒ‘ã‚¹**

```bash
cat > .env << 'EOF'
INPUT_FILE=/Users/suzukishinji/Videos/lecture.mp4
OUTPUT_DIR=/tmp/split_output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF

./run.sh
```

---

## ðŸ“Š å®Ÿè¡Œä¾‹ã¨å‡ºåŠ›

### **å®Ÿè¡Œã‚³ãƒžãƒ³ãƒ‰**

```bash
cd /Users/suzukishinji/projects/mp4-split2
./run.sh
```

### **å‡ºåŠ›ä¾‹**

```
============================================================
MP4 Split Application - ç„¡éŸ³æ¤œå‡ºå‹•ç”»åˆ†å‰²
============================================================
å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«: data/lecture.mp4
å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: ./output
ç„¡éŸ³åˆ¤å®šé–¾å€¤: 0.01
æœ€å°ç„¡éŸ³æ™‚é–“: 15 ç§’
============================================================
å‹•ç”»æ™‚é–“: 01:02:30

éŸ³å£°ã‚’æŠ½å‡ºä¸­...
  ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ: 16000 Hz
  éŸ³å£°é•·: 3750.50 ç§’

ç„¡éŸ³éƒ¨åˆ†ã‚’æ¤œå‡ºä¸­...
  æ¤œå‡ºã•ã‚ŒãŸç„¡éŸ³åŒºé–“: 7 å€‹
    ã‚«ãƒƒãƒˆç‚¹ 1: 00:12:45
    ã‚«ãƒƒãƒˆç‚¹ 2: 00:25:30
    ã‚«ãƒƒãƒˆç‚¹ 3: 00:38:15
    ...

å‹•ç”»ã‚’åˆ†å‰²ä¸­... (8 å€‹ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ)

[1/8] ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†å‰²ä¸­...
  å…¥åŠ›: 00:00:00 â†’ 00:12:45
  é•·ã•: 00:12:45
  å‡ºåŠ›: ./output/lecture_001.mp4
  âœ“ å®Œäº†

[2/8] ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†å‰²ä¸­...
  ...

============================================================
å‡¦ç†å®Œäº†: 8 å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ
============================================================
```

### **å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª**

```bash
ls -lh output/

# ä¾‹ï¼‰
# lecture_001.mp4  (100MB)
# lecture_002.mp4  (95MB)
# lecture_003.mp4  (110MB)
# ...
# split_20251227_120000.log
```

---

## ðŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### **Q: "Error: INPUT_FILE ãŒ .env ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“"**

**A:** `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèªï¼š

```bash
# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
cat .env

# ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã€ä½œæˆï¼š
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.01
MIN_SILENCE_DURATION=15
EOF
```

### **Q: "ffmpeg: command not found"**

**A:** ffmpeg ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š

```bash
brew install ffmpeg

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
ffmpeg -version
```

### **Q: "ModuleNotFoundError: No module named 'librosa'"**

**A:** ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š

```bash
# ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–
source venv/bin/activate

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install librosa numpy python-dotenv
```

### **Q: åˆ†å‰²ãƒã‚¤ãƒ³ãƒˆãŒæ¤œå‡ºã•ã‚Œãªã„**

**A:** ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ï¼š

```bash
cat > .env << 'EOF'
INPUT_FILE=data/lecture.mp4
OUTPUT_DIR=./output
SILENCE_THRESHOLD=0.005    # ã‚ˆã‚Šæ•æ„Ÿã«
MIN_SILENCE_DURATION=10    # ã‚ˆã‚ŠçŸ­ã„ç„¡éŸ³ã‚’å¯¾è±¡
EOF

./run.sh
```

### **Q: å‡¦ç†ãŒéžå¸¸ã«é…ã„**

**A:** ç¢ºèªé …ç›®ï¼š

```bash
# ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç¢ºèª
df -h

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç¢ºèª
du -h data/lecture.mp4

# CPUä½¿ç”¨çŽ‡ç¢ºèªï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼‰
top
```

---

## ðŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
mp4-split2/
â”œâ”€â”€ main.py           # ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆä¿®æ­£ãªã—ã€å…ƒã®ã‚³ãƒ¼ãƒ‰ï¼‰
â”œâ”€â”€ run.sh            # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ .env              # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä½œæˆãŒå¿…è¦ï¼‰
â”œâ”€â”€ README.md         # æ¦‚è¦èª¬æ˜Ž
â”œâ”€â”€ SETUP_GUIDE.md    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ output/           # åˆ†å‰²ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›å…ˆï¼ˆè‡ªå‹•ä½œæˆï¼‰
â”œâ”€â”€ data/             # ã‚µãƒ³ãƒ—ãƒ«å‹•ç”»ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â”œâ”€â”€ venv/             # ä»®æƒ³ç’°å¢ƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â””â”€â”€ requirements.txt  # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ
```

---

## ðŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

### **å‡¦ç†æ™‚é–“ã®ç›®å®‰**

| å‹•ç”»é•· | å‡¦ç†æ™‚é–“ |
|-------|---------|
| 1åˆ† | 10ï½ž15ç§’ |
| 10åˆ† | 100ï½ž150ç§’ |
| 60åˆ† | 600ï½ž900ç§’ |

### **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**

| ãƒ•ã‚§ãƒ¼ã‚º | ãƒ¡ãƒ¢ãƒª |
|---------|--------|
| åˆæœŸåŒ– | 50MB |
| éŸ³å£°å‡¦ç† | 200ï½ž500MB |
| å‹•ç”»å‡¦ç† | 50ï½ž200MB |
| **æœ€å¤§** | **300ï½ž800MB** |

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã®ç¢ºèªï¼š

- [ ] Python 3.7ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹
- [ ] ffmpeg ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- [ ] `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- [ ] INPUT_FILE ãŒæ­£ã—ã„ãƒ‘ã‚¹ã‚’æŒ‡ã—ã¦ã„ã‚‹
- [ ] å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ (`run.sh`) ãŒå®Ÿè¡Œå¯èƒ½
- [ ] ãƒ†ã‚¹ãƒˆå‹•ç”»ã§åˆ†å‰²ãŒå®Œäº†ã™ã‚‹
- [ ] ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹

---

## ðŸŽ‰ å®Œæˆï¼

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€`.env` ã‚’ä¿®æ­£ã—ã¦å®Ÿè¡Œã™ã‚‹ã ã‘ï¼

```bash
./run.sh
```

æ¥½ã—ã„å‹•ç”»åˆ†å‰²ã‚’ï¼ðŸš€

---

**ä½œæˆæ—¥**: 2025-12-27  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†




